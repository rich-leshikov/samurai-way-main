"use strict";(self.webpackChunksamurai_way=self.webpackChunksamurai_way||[]).push([[941],{5941:function(e,t,r){r.r(t),r.d(t,{ProfileContainer:function(){return z}});var s=r(1413),n=r(5671),o=r(3144),i=r(136),a=r(5716),l=r(2791),u=r(364),c="Profile_profile__xNJNh",f=r(885),d=r(5987),p="ProfileInfo_profileInfo__8URru",h="ProfileInfo_profile__description__m4Ak1",m="ProfileInfo_profile__description__avatar__0TNgY",v="ProfileInfo_profile__description__info__6nuYX",x="ProfileInfo_profile__description__info__status__+qlmr",_="ProfileStatus_profileStatus__S11lX",j=r(184),g=function(e){var t=(0,l.useState)(!1),r=(0,f.Z)(t,2),s=r[0],n=r[1],o=(0,l.useState)(e.status),i=(0,f.Z)(o,2),a=i[0],u=i[1];(0,l.useEffect)((function(){u(e.status)}),[e.status]);return(0,j.jsxs)("span",{className:_,children:[!s&&(0,j.jsx)("p",{onDoubleClick:function(){return n(!0)},children:a}),s&&(0,j.jsx)("input",{autoFocus:!0,onChange:function(e){return function(e){return u(e.currentTarget.value)}(e)},onBlur:function(){n(!1),e.changeStatus(a)},value:a})]})},P=r(704),b=r(5889),y="ProfileDataForm_profileDataForm__qsKbY",N="ProfileDataForm_profileContact__U0DhU",Z="ProfileDataForm_formButton__XtLq4",k="ProfileDataForm_formSummaryError__mCk-O",S=(0,P.Z)({form:"edit-profile"})((function(e){var t=e.handleSubmit,r=e.profile,s=e.error;return(0,j.jsxs)("form",{className:y,onSubmit:t,children:[(0,j.jsx)("div",{className:k,children:s}),(0,j.jsxs)("div",{children:[(0,j.jsx)("strong",{children:"Looking for a job: "}),(0,b.Gr)("","lookingForAJob",[],b.II," ",{type:"checkbox"})]}),(0,j.jsxs)("div",{children:[(0,j.jsx)("strong",{children:"My professional skills: "}),(0,b.Gr)("My professional skills","lookingForAJobDescription",[],b.gx," ",{type:"textarea"})]}),(0,j.jsxs)("div",{children:[(0,j.jsx)("strong",{children:"About me: "}),(0,b.Gr)("About me","aboutMe",[],b.gx," ",{type:"textarea"})]}),(0,j.jsxs)("div",{children:[(0,j.jsx)("strong",{children:"Contacts:"}),Object.keys(r.contacts).map((function(e){return(0,j.jsx)("div",{className:N,children:(0,j.jsxs)("strong",{children:[e,": ",(0,b.Gr)(e,"contacts."+e,[],b.II)]})},e)}))]}),(0,j.jsx)("div",{children:(0,j.jsx)("div",{className:Z,children:(0,j.jsx)("button",{children:"Save changes"})})})]})})),C="ProfileData_profileData__TaCIn",I="ProfileContact_profileContact__qC-yL",A=["contactTitle","contactValue"];function F(e){var t=e.contactTitle,r=e.contactValue;(0,d.Z)(e,A);return(0,j.jsxs)("div",{className:I,children:[(0,j.jsxs)("strong",{children:[t,": "]}),r]})}var D=["profile","isOwner","editMode","setEditMode"];function w(e){var t=e.profile,r=e.isOwner,s=e.editMode,n=e.setEditMode;(0,d.Z)(e,D);return(0,j.jsxs)("div",{className:C,children:[r&&(0,j.jsx)("div",{children:(0,j.jsx)("button",{onClick:function(){return n(s)},children:"Edit profile"})}),(0,j.jsxs)("div",{children:[(0,j.jsx)("strong",{children:"Looking for a job: "}),t.lookingForAJob?"yes":"no"]}),t.lookingForAJob&&(0,j.jsxs)("div",{children:[(0,j.jsx)("strong",{children:"My professional skills:"}),t.lookingForAJobDescription]}),(0,j.jsxs)("div",{children:[(0,j.jsx)("strong",{children:"About me: "}),t.aboutMe]}),(0,j.jsxs)("div",{children:[(0,j.jsx)("strong",{children:"Contacts: "}),Object.keys(t.contacts).map((function(e){return(0,j.jsx)(F,{contactTitle:e,contactValue:t.contacts[e]},e)}))]})]})}var M=["profile"];function E(e){var t=e.profile,s=(0,d.Z)(e,M),n=(0,l.useState)(!1),o=(0,f.Z)(n,2),i=o[0],a=o[1];return(0,j.jsx)("div",{className:p,children:(0,j.jsxs)("div",{className:h,children:[(0,j.jsxs)("div",{className:m,children:[(0,j.jsx)("img",{src:t.photos.small?t.photos.small:r(1382),alt:"avatar"}),s.isOwner&&(0,j.jsx)("input",{type:"file",onChange:function(e){e.target.files&&s.savePhoto(e.target.files[0])}})]}),(0,j.jsxs)("div",{className:v,children:[(0,j.jsx)("h2",{children:s.fullName}),(0,j.jsxs)("div",{className:x,children:[(0,j.jsx)("strong",{children:"Thinking about: "}),(0,j.jsx)(g,{status:s.status,changeStatus:s.changeStatus})]}),i?(0,j.jsx)(S,{initialValues:t,profile:t,onSubmit:function(e){s.saveProfile(e).then((function(){a(!1)}))}}):(0,j.jsx)(w,{profile:t,isOwner:!0,editMode:i,setEditMode:function(){return a(!0)}})]})]})})}var O=r(2982),T="MyPosts_profile__posts__urzsr",q="Post_profile__post__sdmpD",J="Post_avatar__2MnBk";function G(e){return(0,j.jsxs)("div",{className:q,children:[(0,j.jsx)("img",{className:J,src:e.profile.photos.small?e.profile.photos.small:r(1382),alt:"no_data"}),(0,j.jsx)("p",{children:e.message}),(0,j.jsx)("div",{className:"",children:(0,j.jsxs)("span",{children:["like ",e.likesCount]})})]})}var B=r(683),L=l.memo((function(e){return(0,j.jsxs)("div",{className:T,children:[(0,j.jsx)("h3",{children:"My posts"}),(0,j.jsx)("div",{className:"profile__new-post",children:(0,j.jsx)(B.d,{onSubmit:function(t){return e.addPost(t.message)}})}),(0,j.jsx)("div",{className:"profile__posts-feed",children:(0,O.Z)(e.posts).reverse().map((function(t){return(0,j.jsx)(G,{message:t.message,likesCount:t.likesCount,profile:e.profile},t.id)}))})]})})),U=r(3439);function V(e){return e.profile?(0,j.jsxs)("div",{className:c,children:[(0,j.jsx)(E,{profile:e.profile,fullName:e.fullName,status:e.status,isOwner:e.isOwner,changeStatus:e.changeStatus,savePhoto:e.savePhoto,saveProfile:e.saveProfile}),(0,j.jsx)(L,{profile:e.profile,posts:e.posts,addPost:e.addPost})]}):(0,j.jsx)(U.p,{})}var X=r(81),Y=r(9271),K=r(2932),R=r(7781),$=function(e){(0,i.Z)(r,e);var t=(0,a.Z)(r);function r(){return(0,n.Z)(this,r),t.apply(this,arguments)}return(0,o.Z)(r,[{key:"refreshProfile",value:function(){var e=this.props.match.params.userId;!e&&this.props.id&&((e=this.props.id.toString())||this.props.history.push("/login")),this.props.getProfile(e),this.props.getFullName(e),this.props.getStatus(e)}},{key:"componentDidMount",value:function(){this.refreshProfile()}},{key:"componentDidUpdate",value:function(e,t,r){e.id&&this.props.match.params.userId!==e.match.params.userId&&this.refreshProfile()}},{key:"render",value:function(){return(0,j.jsx)(V,(0,s.Z)((0,s.Z)({},this.props),{},{profile:this.props.profile,status:this.props.status,isOwner:!this.props.match.params.userId,addPost:this.props.addPost,changeStatus:this.props.changeStatus,savePhoto:this.props.savePhoto,saveProfile:this.props.saveProfile}))}}]),r}(l.Component),z=(0,R.qC)(K.e,Y.EN,(0,u.$j)((function(e){return{posts:e.profilePage.posts,profile:e.profilePage.profile,fullName:e.profilePage.fullName,status:e.profilePage.status,id:e.auth.id,isAuth:e.auth.isAuth}}),{addPost:X.q2,getProfile:X.Ai,getStatus:X.lR,getFullName:X.Pp,changeStatus:X.wv,savePhoto:X.Ju,saveProfile:X.Ii}))($)},5889:function(e,t,r){r.d(t,{II:function(){return p},gx:function(){return d},Gr:function(){return h}});var s=r(1413),n=r(5987),o=(r(2791),r(6139)),i="FormControls_formControl__Hoa5K",a="FormControls_error__SBDrb",l=r(184),u=["input","meta"],c=["input","meta"],f=function(e){var t=e.meta,r=t.touched,s=t.error,n=e.children,o=r&&s;return(0,l.jsxs)("div",{className:"".concat(i," ").concat(o&&a),children:[(0,l.jsx)("div",{children:n}),o&&(0,l.jsx)("span",{children:s})]})},d=function(e){var t=e.input,r=(e.meta,(0,n.Z)(e,u));return(0,l.jsx)(f,(0,s.Z)((0,s.Z)({},e),{},{children:(0,l.jsx)("textarea",(0,s.Z)((0,s.Z)({},t),r))}))},p=function(e){var t=e.input,r=(e.meta,(0,n.Z)(e,c));return(0,l.jsx)(f,(0,s.Z)((0,s.Z)({},e),{},{children:(0,l.jsx)("input",(0,s.Z)((0,s.Z)({},t),r))}))},h=function(e,t,r,n,i,a){return(0,l.jsxs)("div",{children:[(0,l.jsx)(o.Z,(0,s.Z)({placeholder:e,component:n,name:t,validate:r},a))," ",i]})}},683:function(e,t,r){r.d(t,{d:function(){return c}});r(2791);var s={},n=r(6139),o=r(704),i=r(5210),a=r(5889),l=r(184),u=(0,i.DT)(140);var c=(0,o.Z)({form:"message"})((function(e){return(0,l.jsxs)("form",{onSubmit:e.handleSubmit,children:[(0,l.jsx)("div",{className:s.messageForm__textarea,children:(0,l.jsx)(n.Z,{type:"message",placeholder:"your message...",component:a.gx,name:"message",validate:[i.Ei,u]})}),(0,l.jsx)("div",{className:s.messageForm__button,children:(0,l.jsx)("button",{children:"Send"})})]})}))},2932:function(e,t,r){r.d(t,{e:function(){return c}});var s=r(1413),n=r(5987),o=(r(2791),r(9271)),i=r(364),a=r(184),l=["isAuth"],u=function(e){return{isAuth:e.auth.isAuth}};function c(e){return(0,i.$j)(u)((function(t){var r=t.isAuth,i=(0,n.Z)(t,l);return r?(0,a.jsx)(e,(0,s.Z)({},i)):(0,a.jsx)(o.l_,{to:"/login"})}))}},5210:function(e,t,r){r.d(t,{C1:function(){return s},DT:function(){return n},Ei:function(){return o}});var s=function(e){return e?void 0:"Field is required!"},n=function(e){return function(t){return t.length<=e?void 0:"Max length of message is ".concat(e," symbols!")}},o=function(e){return e?void 0:"Enter your message!"}},1382:function(e,t,r){e.exports=r.p+"static/media/no_data_avatar.8ec2995de62986d1941d.png"},885:function(e,t,r){r.d(t,{Z:function(){return n}});var s=r(181);function n(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var s,n,o=[],i=!0,a=!1;try{for(r=r.call(e);!(i=(s=r.next()).done)&&(o.push(s.value),!t||o.length!==t);i=!0);}catch(l){a=!0,n=l}finally{try{i||null==r.return||r.return()}finally{if(a)throw n}}return o}}(e,t)||(0,s.Z)(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}}}]);
//# sourceMappingURL=941.e7296232.chunk.js.map