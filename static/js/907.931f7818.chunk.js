"use strict";(self.webpackChunksamurai_way=self.webpackChunksamurai_way||[]).push([[907],{6895:function(t,n,e){e.r(n),e.d(n,{ProfileContainer:function(){return F}});var r=e(8683),s=e(5671),i=e(3144),o=e(136),a=e(5716),u=e(2791),l=e(364),c="Profile_profile__xNJNh",f="ProfileInfo_profileInfo__8URru",d="ProfileInfo_profile__description__m4Ak1",p="ProfileInfo_profile__description__avatar__0TNgY",h="ProfileInfo_profile__description__info__6nuYX",m=e(885),_="ProfileStatus_profileStatus__S11lX",v=e(184),x=function(t){var n=(0,u.useState)(!1),e=(0,m.Z)(n,2),r=e[0],s=e[1],i=(0,u.useState)(t.status),o=(0,m.Z)(i,2),a=o[0],l=o[1];(0,u.useEffect)((function(){l(t.status)}),[t.status]);return(0,v.jsxs)("div",{className:_,children:[!r&&(0,v.jsx)("p",{onDoubleClick:function(){return s(!0)},children:a}),r&&(0,v.jsx)("input",{autoFocus:!0,onChange:function(t){return function(t){return l(t.currentTarget.value)}(t)},onBlur:function(){s(!1),t.changeStatus(a)},value:a})]})};function j(t){return(0,v.jsx)("div",{className:f,children:(0,v.jsxs)("div",{className:d,children:[(0,v.jsx)("div",{className:p,children:(0,v.jsx)("img",{src:t.profile.photos.small?t.profile.photos.small:e(1382),alt:"avatar"})}),(0,v.jsxs)("div",{className:h,children:[(0,v.jsx)("h4",{children:"Thinking about"}),(0,v.jsx)(x,{status:t.status,changeStatus:t.changeStatus})]})]})})}var g=e(2982),Z="MyPosts_profile__posts__urzsr",y="Post_profile__post__sdmpD",S="Post_avatar__2MnBk";function N(t){return(0,v.jsxs)("div",{className:y,children:[(0,v.jsx)("img",{className:S,src:t.profile.photos.small?t.profile.photos.small:e(1382),alt:"no_data"}),(0,v.jsx)("p",{children:t.message}),(0,v.jsx)("div",{className:"",children:(0,v.jsxs)("span",{children:["like ",t.likesCount]})})]})}var P=e(683),b=u.memo((function(t){return(0,v.jsxs)("div",{className:Z,children:[(0,v.jsx)("h3",{children:"My posts"}),(0,v.jsx)("div",{className:"profile__new-post",children:(0,v.jsx)(P.d,{onSubmit:function(n){return t.addPost(n.message)}})}),(0,v.jsx)("div",{className:"profile__posts-feed",children:(0,g.Z)(t.posts).reverse().map((function(n){return(0,v.jsx)(N,{message:n.message,likesCount:n.likesCount,profile:t.profile},n.id)}))})]})})),k=e(3439);function C(t){return t.profile?(0,v.jsxs)("div",{className:c,children:[(0,v.jsx)(j,{profile:t.profile,status:t.status,changeStatus:t.changeStatus}),(0,v.jsx)(b,{profile:t.profile,posts:t.posts,addPost:t.addPost})]}):(0,v.jsx)(k.p,{})}var A=e(81),I=e(9271),w=e(2932),D=e(7781),E=function(t){(0,o.Z)(e,t);var n=(0,a.Z)(e);function e(){return(0,s.Z)(this,e),n.apply(this,arguments)}return(0,i.Z)(e,[{key:"componentDidMount",value:function(){var t=this.props.match.params.userId;!t&&this.props.id&&(t=this.props.id.toString()),this.props.getProfile(t),this.props.getStatus(t)}},{key:"render",value:function(){return(0,v.jsx)(C,(0,r.Z)({},this.props))}}]),e}(u.Component),F=(0,D.qC)(w.e,I.EN,(0,l.$j)((function(t){return{posts:t.profilePage.posts,profile:t.profilePage.profile,status:t.profilePage.status,id:t.auth.id,isAuth:t.auth.isAuth}}),{addPost:A.q2,getProfile:A.Ai,getStatus:A.lR,changeStatus:A.wv}))(E)},5889:function(t,n,e){e.d(n,{II:function(){return d},gx:function(){return f}});var r=e(8683),s=e(5987),i=(e(2791),"FormControls_formControl__Hoa5K"),o="FormControls_error__SBDrb",a=e(184),u=["input","meta"],l=["input","meta"],c=function(t){t.input;var n=t.meta,e=n.touched,r=n.error,s=t.children,u=e&&r;return(0,a.jsxs)("div",{className:"".concat(i," ").concat(u&&o),children:[s,u&&(0,a.jsx)("span",{children:r})]})},f=function(t){var n=t.input,e=(t.meta,(0,s.Z)(t,u));return(0,a.jsx)(c,(0,r.Z)((0,r.Z)({},t),{},{children:(0,a.jsx)("textarea",(0,r.Z)((0,r.Z)({},n),e))}))},d=function(t){var n=t.input,e=(t.meta,(0,s.Z)(t,l));return(0,a.jsx)(c,(0,r.Z)((0,r.Z)({},t),{},{children:(0,a.jsx)("input",(0,r.Z)((0,r.Z)({},n),e))}))}},683:function(t,n,e){e.d(n,{d:function(){return c}});e(2791);var r={},s=e(6139),i=e(704),o=e(5210),a=e(5889),u=e(184),l=(0,o.DT)(140);var c=(0,i.Z)({form:"message"})((function(t){return(0,u.jsxs)("form",{onSubmit:t.handleSubmit,children:[(0,u.jsx)("div",{className:r.messageForm__textarea,children:(0,u.jsx)(s.Z,{type:"message",placeholder:"your message...",component:a.gx,name:"message",validate:[o.Ei,l]})}),(0,u.jsx)("div",{className:r.messageForm__button,children:(0,u.jsx)("button",{children:"Send"})})]})}))},2932:function(t,n,e){e.d(n,{e:function(){return c}});var r=e(8683),s=e(5987),i=(e(2791),e(9271)),o=e(364),a=e(184),u=["isAuth"],l=function(t){return{isAuth:t.auth.isAuth}};function c(t){return(0,o.$j)(l)((function(n){var e=n.isAuth,o=(0,s.Z)(n,u);return e?(0,a.jsx)(t,(0,r.Z)({},o)):(0,a.jsx)(i.l_,{to:"/login"})}))}},5210:function(t,n,e){e.d(n,{C1:function(){return r},DT:function(){return s},Ei:function(){return i}});var r=function(t){return t?void 0:"Field is required!"},s=function(t){return function(n){return n.length<=t?void 0:"Max length of message is ".concat(t," symbols!")}},i=function(t){return t?void 0:"Enter your message!"}},1382:function(t,n,e){t.exports=e.p+"static/media/no_data_avatar.8ec2995de62986d1941d.png"},885:function(t,n,e){e.d(n,{Z:function(){return s}});var r=e(181);function s(t,n){return function(t){if(Array.isArray(t))return t}(t)||function(t,n){var e=null==t?null:"undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=e){var r,s,i=[],o=!0,a=!1;try{for(e=e.call(t);!(o=(r=e.next()).done)&&(i.push(r.value),!n||i.length!==n);o=!0);}catch(u){a=!0,s=u}finally{try{o||null==e.return||e.return()}finally{if(a)throw s}}return i}}(t,n)||(0,r.Z)(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}}}]);
//# sourceMappingURL=907.931f7818.chunk.js.map